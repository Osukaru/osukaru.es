

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Creando y usando plantillas &mdash; symfony-docs-es v1 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="symfony-docs-es v1 documentation" href="../index.html" />
    <link rel="up" title="Libro" href="index.html" />
    <link rel="next" title="Bases de datos y Doctrine (“el modelo”)" href="doctrine.html" />
    <link rel="prev" title="Enrutando" href="routing.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="doctrine.html" title="Bases de datos y Doctrine (“el modelo”)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="routing.html" title="Enrutando"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">symfony-docs-es v1 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Libro</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="creando-y-usando-plantillas">
<span id="index-0"></span><h1>Creando y usando plantillas<a class="headerlink" href="#creando-y-usando-plantillas" title="Permalink to this headline">¶</a></h1>
<p>Como sabes, el <a class="reference internal" href="controller.html"><em>Controlador</em></a> es responsable de manejar cada petición entrante en una aplicación Symfony2. En realidad, el controlador delega la mayor parte del trabajo pesado ​​a otros lugares para que el código se pueda probar y volver a utilizar. Cuando un controlador necesita generar HTML, CSS o cualquier otro contenido, que maneje el trabajo fuera del motor de plantillas.
En este capítulo, aprenderás cómo escribir potentes plantillas que puedes utilizar para devolver contenido al usuario, rellenar el cuerpo de correo electrónico y mucho más. Aprenderás métodos abreviados, formas inteligentes para extender las plantillas y cómo reutilizar código de plantilla.</p>
<div class="section" id="plantillas">
<span id="index-1"></span><h2>Plantillas<a class="headerlink" href="#plantillas" title="Permalink to this headline">¶</a></h2>
<p>Una plantilla simplemente es un archivo de texto que puede generar cualquier formato basado en texto (HTML, XML, CSV, LaTeX...). El tipo de plantilla más familiar es una plantilla <em>PHP</em> - un archivo de texto interpretado por PHP que contiene una mezcla de texto y código PHP:</p>
<div class="highlight-python"><pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;¡Bienvenido a Symfony!&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;&lt;?php echo $titulo_pag ?&gt;&lt;/h1&gt;

        &lt;ul id="navegacion"&gt;
            &lt;?php foreach ($navegacion as $elemento): ?&gt;
                &lt;li&gt;
                    &lt;a href="&lt;?php echo $elemento-&gt;getHref() ?&gt;"&gt;
                        &lt;?php echo $elemento-&gt;getCaption() ?&gt;
                    &lt;/a&gt;
                &lt;/li&gt;
            &lt;?php endforeach; ?&gt;
        &lt;/ul&gt;
    &lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<p id="index-2">Pero Symfony2 contiene un lenguaje de plantillas aún más potente llamado <a class="reference external" href="http://www.twig-project.org">Twig</a>.
Twig te permite escribir plantillas concisas y fáciles de leer que son más amigables para los diseñadores web y, de varias maneras, más poderosas que las plantillas PHP:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>¡Bienvenido a Symfony!<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;h1&gt;</span><span class="cp">{{</span> <span class="nv">titulo_pag</span> <span class="cp">}}</span><span class="nt">&lt;/h1&gt;</span>

        <span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">&quot;navegacion&quot;</span><span class="nt">&gt;</span>
            <span class="cp">{%</span> <span class="k">for</span> <span class="nv">elemento</span> <span class="k">in</span> <span class="nv">navegacion</span> <span class="cp">%}</span>
                <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">elemento.href</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">elemento.caption</span> <span class="cp">}}</span><span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
            <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
        <span class="nt">&lt;/ul&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<p>Twig define dos tipos de sintaxis especial:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">{{</span> <span class="pre">...</span> <span class="pre">}}</span></tt>: &#8220;Dice algo&#8221;: imprime una variable o el resultado de una expresión a la plantilla;</li>
<li><tt class="docutils literal"><span class="pre">{%</span> <span class="pre">...</span> <span class="pre">%}</span></tt>: &#8220;Hace algo&#8221;: una <strong>etiqueta</strong> que controla la lógica de la plantilla; se utiliza para ejecutar declaraciones como bucles <tt class="docutils literal"><span class="pre">for</span></tt>, por ejemplo.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Hay una tercer sintaxis utilizada para crear comentarios: <tt class="docutils literal"><span class="pre">{#</span> <span class="pre">esto</span> <span class="pre">es</span> <span class="pre">un</span> <span class="pre">comentario</span> <span class="pre">#}</span></tt>.
Esta sintaxis se puede utilizar en múltiples líneas como la sintaxis <tt class="docutils literal"><span class="pre">/*</span> <span class="pre">comentario</span> <span class="pre">*/</span></tt> equivalente de PHP.</p>
</div>
<p>Twig también contiene <strong>filtros</strong>, los cuales modifican el contenido antes de reproducirlo.
El siguiente fragmento convierte a mayúsculas la variable <tt class="docutils literal"><span class="pre">titulo</span></tt> antes de reproducirla:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">titulo</span> <span class="o">|</span> <span class="nf">upper</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>Twig viene con una larga lista de <a href="#id6"><span class="problematic" id="id7">`etiquetas`_</span></a> y <a class="reference external" href="http://www.twig-project.org/doc/templates.html#list-of-built-in-filters">filtros</a> que están disponibles de forma predeterminada. Incluso puedes <a class="reference external" href="http://www.twig-project.org/doc/advanced.html">agregar tus propias extensiones</a> a Twig, según sea necesario.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Registrar una extensión de Twig es tan fácil como crear un nuevo servicio y etiquetarlo con las <a class="reference internal" href="service_container.html#book-service-container-tags"><em>etiquetas</em></a> <tt class="docutils literal"><span class="pre">twig.extension</span></tt>.</p>
</div>
<p>Como verás en toda la documentación, Twig también es compatible con funciones y fácilmente puedes añadir nuevas funciones. Por ejemplo, la siguiente función, utiliza una etiqueta <tt class="docutils literal"><span class="pre">for</span></tt> estándar y la función <tt class="docutils literal"><span class="pre">cycle</span></tt> para imprimir diez etiquetas div, alternando entre clases <tt class="docutils literal"><span class="pre">par</span></tt> e <tt class="docutils literal"><span class="pre">impar</span></tt>:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">i</span> <span class="k">in</span> <span class="m">0.</span><span class="nv">.10</span> <span class="cp">%}</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">cycle</span><span class="o">([</span><span class="s1">&#39;par&#39;</span><span class="o">,</span> <span class="s1">&#39;impar&#39;</span><span class="o">],</span> <span class="nv">i</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- algún HTML aquí --&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>A lo largo de este capítulo, mostraremos las plantillas de ejemplo en ambos formatos Twig y PHP.</p>
<div class="sidebar">
<p class="first sidebar-title">¿Porqué Twig?</p>
<p>Las plantillas Twig están destinadas a ser simples y no procesar etiquetas PHP. Esto es por diseño: el sistema de plantillas Twig está destinado a expresar la presentación, no la lógica del programa. Cuanto más utilices Twig, más apreciarás y te beneficiarás de esta distinción. Y, por supuesto, todos los diseñadores web las amarán.</p>
<p>Twig también puede hacer cosas que PHP no puede, como heredar verdaderas plantillas (las plantillas Twig se compilan hasta clases PHP que se heredan unas a otras), controlar los espacios en blanco, restringir un ambiente para prácticas, e incluir funciones y filtros personalizados que sólo afectan a las plantillas. Twig contiene características que facilitan la escritura de plantillas y estas son más concisas. Tomemos el siguiente ejemplo, el cual combina un bucle con una declaración <tt class="docutils literal"><span class="pre">if</span></tt> lógica:</p>
<div class="last highlight-html+jinja"><div class="highlight"><pre><span class="nt">&lt;ul&gt;</span>
    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">usuario</span> <span class="k">in</span> <span class="nv">usuarios</span> <span class="cp">%}</span>
        <span class="nt">&lt;li&gt;</span><span class="cp">{{</span> <span class="nv">usuario.nombreusuario</span> <span class="cp">}}</span><span class="nt">&lt;/li&gt;</span>
    <span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
        <span class="nt">&lt;li&gt;</span>¡No hay usuarios!<span class="nt">&lt;/li&gt;</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="guardando-plantillas-twig-en-cache">
<span id="index-3"></span><h3>Guardando plantillas Twig en caché<a class="headerlink" href="#guardando-plantillas-twig-en-cache" title="Permalink to this headline">¶</a></h3>
<p>Twig es rápido. Cada plantilla Twig se compila hasta una clase PHP nativa que se reproduce en tiempo de ejecución. Las clases compiladas se encuentran en el directorio <tt class="docutils literal"><span class="pre">app/cache/{entorno}/twig</span></tt> (donde <tt class="docutils literal"><span class="pre">{entorno}</span></tt> es el entorno, tal como <tt class="docutils literal"><span class="pre">dev</span></tt> o <tt class="docutils literal"><span class="pre">prod</span></tt>) y, en algunos casos, pueden ser útiles mientras depuras. Consulta la sección <a class="reference internal" href="page_creation.html#environments-summary"><em>Entornos</em></a> para más información sobre los entornos.</p>
<p>Cuando está habilitado el modo <tt class="docutils literal"><span class="pre">debug</span></tt> (comúnmente en el entorno <tt class="docutils literal"><span class="pre">dev</span></tt>) al realizar cambios a una plantilla Twig, esta se vuelve a compilar automáticamente. Esto significa que durante el desarrollo, felizmente, puedes realizar cambios en una plantilla Twig e inmediatamente ver las modificaciones sin tener que preocuparte de limpiar ninguna caché.</p>
<p>Cuando el modo <tt class="docutils literal"><span class="pre">debug</span></tt> está desactivado (comúnmente en el entorno <tt class="docutils literal"><span class="pre">prod</span></tt>), sin embargo, debes borrar el directorio de caché para regenerar las plantillas. Recuerda hacer esto al desplegar tu aplicación.</p>
</div>
</div>
<div class="section" id="plantillas-herencia-y-diseno">
<span id="index-4"></span><h2>Plantillas, herencia y diseño<a class="headerlink" href="#plantillas-herencia-y-diseno" title="Permalink to this headline">¶</a></h2>
<p>A menudo, las plantillas en un proyecto comparten elementos comunes, como el encabezado, pie de página, barra lateral o más. En Symfony2, nos gusta pensar en este problema de forma diferente: una plantilla se puede decorar con otra. Esto funciona exactamente igual que las clases PHP: la herencia de plantillas nos permite crear un &#8220;diseño&#8221; de plantilla base que contiene todos los elementos comunes de tu sitio definidos como <strong>bloques</strong> (piensa en &#8220;clases PHP con métodos base&#8221;). Una plantilla hija puede extender el diseño base y reemplazar cualquiera de sus bloques (piensa en las &#8220;subclases PHP que sustituyen determinados métodos de su clase padre&#8221;).</p>
<p>En primer lugar, crea un archivo con tu diseño base:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# app/Resources/views/base.html.twig #}</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;Content-Type&quot;</span> <span class="na">content=</span><span class="s">&quot;text/html; charset=utf-8&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;title&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">titulo</span> <span class="cp">%}</span>Aplicación de prueba<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;barralateral&quot;</span><span class="nt">&gt;</span>
            <span class="cp">{%</span> <span class="k">block</span> <span class="nv">barralateral</span> <span class="cp">%}</span>
            <span class="nt">&lt;ul&gt;</span>
                <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;/&quot;</span><span class="nt">&gt;</span>Portada<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
                <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;/blog&quot;</span><span class="nt">&gt;</span>Blog<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
            <span class="nt">&lt;/ul&gt;</span>
            <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
        <span class="nt">&lt;/div&gt;</span>

        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;contenido&quot;</span><span class="nt">&gt;</span>
            <span class="cp">{%</span> <span class="k">block</span> <span class="nv">body</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="x">&lt;!-- app/Resources/views/base.html.php --&gt;</span>
<span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="x">&lt;html&gt;</span>
<span class="x">    &lt;head&gt;</span>
<span class="x">        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;</span>
<span class="x">        &lt;title&gt;</span><span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">output</span><span class="p">(</span><span class="s1">&#39;titulo&#39;</span><span class="p">,</span> <span class="s1">&#39;Aplicación de prueba&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x">&lt;/title&gt;</span>
<span class="x">    &lt;/head&gt;</span>
<span class="x">    &lt;body&gt;</span>
<span class="x">        &lt;div id=&quot;barralateral&quot;&gt;</span>
<span class="x">            </span><span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">has</span><span class="p">(</span><span class="s1">&#39;barralateral&#39;</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">                </span><span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">output</span><span class="p">(</span><span class="s1">&#39;barralateral&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">            </span><span class="cp">&lt;?php</span> <span class="k">else</span><span class="o">:</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">                &lt;ul&gt;</span>
<span class="x">                    &lt;li&gt;&lt;a href=&quot;/&quot;&gt;Portada&lt;/a&gt;&lt;/li&gt;</span>
<span class="x">                    &lt;li&gt;&lt;a href=&quot;/blog&quot;&gt;Blog&lt;/a&gt;&lt;/li&gt;</span>
<span class="x">                &lt;/ul&gt;</span>
<span class="x">            </span><span class="cp">&lt;?php</span> <span class="k">endif</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">        &lt;/div&gt;</span>

<span class="x">        &lt;div id=&quot;contenido&quot;&gt;</span>
<span class="x">            </span><span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">output</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">        &lt;/div&gt;</span>
<span class="x">    &lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Aunque la explicación sobre la herencia de plantillas será en términos de Twig, la filosofía es la misma entre plantillas Twig y PHP.</p>
</div>
<p>Esta plantilla define el esqueleto del documento HTML base de una simple página de dos columnas. En este ejemplo, se definen tres áreas <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}</span></tt> (<tt class="docutils literal"><span class="pre">titulo</span></tt>, <tt class="docutils literal"><span class="pre">barralateral</span></tt> y <tt class="docutils literal"><span class="pre">body</span></tt>). Una plantilla hija puede sustituir cada uno de los bloques o dejarlos con su implementación predeterminada. Esta plantilla también se podría reproducir directamente. En este caso, los bloques <tt class="docutils literal"><span class="pre">titulo</span></tt>, <tt class="docutils literal"><span class="pre">barralateral</span></tt> y <tt class="docutils literal"><span class="pre">body</span></tt> simplemente mantienen los valores predeterminados usados en esta plantilla.</p>
<p>Una plantilla hija podría tener este aspecto:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# src/Acme/BlogBundle/Resources/views/Blog/index.html.twig #}</span>
<span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;::base.html.twig&#39;</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">titulo</span> <span class="cp">%}</span>Mis interesantes entradas del blog<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">body</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">entrada</span> <span class="k">in</span> <span class="nv">entradas_blog</span> <span class="cp">%}</span>
        <span class="nt">&lt;h2&gt;</span><span class="cp">{{</span> <span class="nv">entrada.titulo</span> <span class="cp">}}</span><span class="nt">&lt;/h2&gt;</span>
        <span class="nt">&lt;p&gt;</span><span class="cp">{{</span> <span class="nv">entrada.cuerpo</span> <span class="cp">}}</span><span class="nt">&lt;/p&gt;</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="x">&lt;!-- src/Acme/BlogBundle/Resources/views/Blog/index.html.php --&gt;</span>
<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">extend</span><span class="p">(</span><span class="s1">&#39;::base.html.php&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;titulo&#39;</span><span class="p">,</span> <span class="s1">&#39;Mis interesantes entradas del blog&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">start</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    </span><span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$entradas_blog</span> <span class="k">as</span> <span class="nv">$entrada</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">        &lt;h2&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$entrada</span><span class="o">-&gt;</span><span class="na">getTitulo</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x">&lt;/h2&gt;</span>
<span class="x">        &lt;p&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$entrada</span><span class="o">-&gt;</span><span class="na">getCuerpo</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x">&lt;/p&gt;</span>
<span class="x">    </span><span class="cp">&lt;?php</span> <span class="k">endforeach</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">stop</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">La plantilla padre se identifica mediante una sintaxis de cadena especial (<tt class="docutils literal"><span class="pre">::base.html.twig</span></tt>) la cual indica que la plantilla vive en el directorio <tt class="docutils literal"><span class="pre">app/Resources/views</span></tt> del proyecto. Esta convención de nomenclatura se explica completamente en <a class="reference internal" href="#template-naming-locations"><em>Nomenclatura y ubicación de plantillas</em></a>.</p>
</div>
<p>La clave para la herencia de plantillas es la etiqueta <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">extends</span> <span class="pre">%}</span></tt>. Esto le indica al motor de plantillas que primero evalúe la plantilla base, la cual establece el diseño y define varios bloques. Luego reproduce la plantilla hija, en ese momento, los bloques <tt class="docutils literal"><span class="pre">titulo</span></tt> y <tt class="docutils literal"><span class="pre">body</span></tt> del padre son reemplazados por los de la hija. Dependiendo del valor de <tt class="docutils literal"><span class="pre">entradas_blog</span></tt>, el resultado sería algo como esto:</p>
<div class="highlight-python"><pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
        &lt;title&gt;Mis interesantes entradas del blog&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div id="barralateral"&gt;
            &lt;ul&gt;
                &lt;li&gt;&lt;a href="/"&gt;Portada&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href="/blog"&gt;Blog&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
        &lt;/div&gt;

        &lt;div id="contenido"&gt;
            &lt;h2&gt;Mi primer mensaje&lt;/h2&gt;
            &lt;p&gt;El cuerpo del primer mensaje.&lt;/p&gt;

            &lt;h2&gt;Otro mensaje&lt;/h2&gt;
            &lt;p&gt;El cuerpo del segundo mensaje.&lt;/p&gt;
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<p>Ten en cuenta que como en la plantilla hija no haz definido un bloque <tt class="docutils literal"><span class="pre">barralateral</span></tt>, en su lugar, se utiliza el valor de la plantilla padre. Una plantilla padre, de forma predeterminada, siempre utiliza una etiqueta <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}</span></tt> para el contenido.</p>
<p>Puedes utilizar tantos niveles de herencia como quieras. En la siguiente sección, explicaremos un modelo común de tres niveles de herencia junto con la forma en que se organizan las plantillas dentro de un proyecto Symfony2.</p>
<p>Cuando trabajes con la herencia de plantillas, ten en cuenta los siguientes consejos:</p>
<ul>
<li><p class="first">Si utilizas <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">extends</span> <span class="pre">%}</span></tt> en una plantilla, esta debe ser la primer etiqueta en esa plantilla.</p>
</li>
<li><p class="first">Mientras más etiquetas <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}</span></tt> tengas en tu plantilla base, mejor.
Recuerda, las plantillas hijas no tienen que definir todos los bloques de los padres, por lo tanto crea tantos bloques en tus plantillas base como desees y dale a cada uno un valor predeterminado razonable. Mientras más bloques tengan tus plantillas base, más flexible será tu diseño.</p>
</li>
<li><p class="first">Si te encuentras duplicando contenido en una serie de plantillas, probablemente significa que debes mover el contenido a un <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}</span></tt> en una plantilla padre.
En algunos casos, una mejor solución podría ser mover el contenido a una nueva plantilla e incluirla con <tt class="docutils literal"><span class="pre">include</span></tt> (consulta <a class="reference internal" href="#incluyendo-plantillas"><em>Incluyendo otras plantillas</em></a>).</p>
</li>
<li><p class="first">Si necesitas conseguir el contenido de un bloque de la plantilla padre, puedes usar la función <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">parent()</span> <span class="pre">}}</span></tt>. Esta es útil si deseas añadir contenido a un bloque padre en vez de reemplazarlo por completo:</p>
<blockquote>
<div><div class="highlight-html+jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">block</span> <span class="nv">barralateral</span> <span class="cp">%}</span>
    <span class="nt">&lt;h3&gt;</span>Tabla de contenido<span class="nt">&lt;/h3&gt;</span>
    ...
    <span class="cp">{{</span> <span class="nv">parent</span><span class="o">()</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="nomenclatura-y-ubicacion-de-plantillas">
<span id="template-naming-locations"></span><span id="index-5"></span><h2>Nomenclatura y ubicación de plantillas<a class="headerlink" href="#nomenclatura-y-ubicacion-de-plantillas" title="Permalink to this headline">¶</a></h2>
<p>De forma predeterminada, las plantillas pueden vivir en dos diferentes lugares:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">app/Resources/views/</span></tt> El directorio de las <tt class="docutils literal"><span class="pre">vistas</span></tt> de la aplicación puede contener toda las plantillas base de la aplicación (es decir, los diseños de tu aplicación), así como plantillas que sustituyen a plantillas de paquetes (consulta <a class="reference internal" href="#overriding-bundle-templates"><em>Sustituyendo plantillas del paquete</em></a>);</li>
<li><tt class="docutils literal"><span class="pre">ruta/al/paquete/Resources/views/</span></tt> Cada paquete contiene sus plantillas en su directorio <tt class="docutils literal"><span class="pre">Resources/views</span></tt> (y subdirectorios). La mayoría de las plantillas viven dentro de un paquete.</li>
</ul>
<p>Symfony2 utiliza una sintaxis de cadena <strong>paquete</strong>:<strong>controlador</strong>:<strong>plantilla</strong> para las plantillas. Esto permite diferentes tipos de plantilla, dónde cada una vive en un lugar específico:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">AcmeBlogBundle:Blog:index.html.twig</span></tt>: Esta sintaxis se utiliza para especificar una plantilla para una página específica. Las tres partes de la cadena, cada una separada por dos puntos (<tt class="docutils literal"><span class="pre">:</span></tt>), significan lo siguiente:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">AcmeBlogBundle</span></tt>: (<em>paquete</em>) la plantilla vive dentro de <tt class="docutils literal"><span class="pre">AcmeBlogBundle</span></tt> (por ejemplo, <tt class="docutils literal"><span class="pre">src/Acme/BlogBundle</span></tt>);</li>
<li><tt class="docutils literal"><span class="pre">Blog</span></tt>: (<em>controlador</em>) indica que la plantilla vive dentro del subdirectorio <tt class="docutils literal"><span class="pre">Blog</span></tt> de <tt class="docutils literal"><span class="pre">Resources/views</span></tt>;</li>
<li><tt class="docutils literal"><span class="pre">index.html.twig</span></tt>: (<em>plantilla</em>) el nombre real del archivo es <tt class="docutils literal"><span class="pre">index.html.twig</span></tt>.</li>
</ul>
</div></blockquote>
<p>Suponiendo que <tt class="docutils literal"><span class="pre">AcmeBlogBundle</span></tt> vive en <tt class="docutils literal"><span class="pre">src/Acme/BlogBundle</span></tt>, la ruta final para el diseño debería ser <cite>src/Acme/BlogBundle/Resources/views/Blog/index.html.twig`</cite>.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">AcmeBlogBundle::base.html.twig</span></tt>: Esta sintaxis se refiere a una plantilla base que es específica para <tt class="docutils literal"><span class="pre">AcmeBlogBundle</span></tt>. Puesto que falta la porción central, &#8220;controlador&#8221;, (por ejemplo, <tt class="docutils literal"><span class="pre">Blog</span></tt>), la plantilla vive en <tt class="docutils literal"><span class="pre">Resources/views/base.html.twig</span></tt> dentro de <tt class="docutils literal"><span class="pre">AcmeBlogBundle</span></tt>.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">::base.html.twig</span></tt>: Esta sintaxis se refiere a una plantilla o diseño base de la aplicación. Observa que la cadena comienza con dobles dos puntos (<tt class="docutils literal"><span class="pre">::</span></tt>), lo cual significa que faltan ambas porciones <em>paquete</em> y <em>controlador</em>. Esto significa que la plantilla no se encuentra en ningún paquete, sino en el directorio raíz de la aplicación <tt class="docutils literal"><span class="pre">app/Resources/views/</span></tt>.</p>
</li>
</ul>
<p>En la sección <a class="reference internal" href="#overriding-bundle-templates"><em>Sustituyendo plantillas del paquete</em></a>, encontrarás cómo puedes sustituir cada plantilla que vive dentro de <tt class="docutils literal"><span class="pre">AcmeBlogBundle</span></tt>, por ejemplo, colocando una plantilla del mismo nombre en el directorio <tt class="docutils literal"><span class="pre">app/Resources/AcmeBlog/views/</span></tt>. Esto nos da el poder para sustituir plantillas de cualquier paquete de terceros.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Esperemos que la sintaxis de nomenclatura de plantilla te resulte familiar - es la misma convención de nomenclatura utilizada para referirse al <a class="reference internal" href="routing.html#controller-string-syntax"><em>Patrón de nomenclatura para controladores</em></a>.</p>
</div>
<div class="section" id="sufijo-de-plantilla">
<h3>Sufijo de plantilla<a class="headerlink" href="#sufijo-de-plantilla" title="Permalink to this headline">¶</a></h3>
<p>El formato <strong>paquete</strong>:<strong>controlador</strong>:<strong>plantilla</strong> de cada plantilla, especifica <em>dónde</em> se encuentra el archivo de plantilla. Cada nombre de plantilla también cuenta con dos extensiones que especifican el <em>formato</em> y <em>motor</em> de esa plantilla.</p>
<ul class="simple">
<li><strong>AcmeBlogBundle:Blog:index.html.twig</strong> - formato HTML, motor Twig</li>
<li><strong>AcmeBlogBundle:Blog:index.html.php</strong> - formato HTML, motor PHP</li>
<li><strong>AcmeBlogBundle:Blog:index.css.twig</strong> - formato CSS, motor Twig</li>
</ul>
<p>De forma predeterminada, cualquier plantilla Symfony2 se puede escribir en Twig o PHP, y la última parte de la extensión (por ejemplo <tt class="docutils literal"><span class="pre">.twig</span></tt> o <tt class="docutils literal"><span class="pre">.php</span></tt>) especifica cuál de los dos <em>motores</em> se debe utilizar. La primera parte de la extensión, (por ejemplo <tt class="docutils literal"><span class="pre">.html</span></tt>, <tt class="docutils literal"><span class="pre">.css</span></tt>, etc.) es el formato final que la plantilla debe generar. A diferencia del motor, el cual determina cómo analiza Symfony2 la plantilla, esta simplemente es una táctica de organización utilizada en caso de que el mismo recurso se tenga que reproducir como HTML (<tt class="docutils literal"><span class="pre">index.html.twig</span></tt>), XML (<tt class="docutils literal"><span class="pre">index.xml.twig</span></tt>), o cualquier otro formato. Para más información, lee la sección <a class="reference internal" href="#template-formats"><em>Formato de plantillas</em></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Los &#8220;motores&#8221; disponibles se pueden configurar e incluso agregar nuevos motores.
Consulta <a class="reference internal" href="#template-configuration"><em>Configuración de plantillas</em></a> para más detalles.</p>
</div>
</div>
</div>
<div class="section" id="etiquetas-y-ayudantes">
<span id="index-6"></span><h2>Etiquetas y ayudantes<a class="headerlink" href="#etiquetas-y-ayudantes" title="Permalink to this headline">¶</a></h2>
<p>Ya entendiste los conceptos básicos de las plantillas, cómo son denominadas y cómo utilizar la herencia en plantillas. Las partes más difíciles ya quedaron atrás. En esta sección, aprenderás acerca de un amplio grupo de herramientas disponibles para ayudarte a realizar las tareas de plantilla más comunes, como la inclusión de otras plantillas, enlazar páginas e incluir imágenes.</p>
<p>Symfony2 viene con varias etiquetas Twig especializadas y funciones que facilitan la labor del diseñador de la plantilla. En PHP, el sistema de plantillas extensible ofrece un sistema de <em>ayudantes</em> que proporciona funciones útiles en el contexto de la plantilla.</p>
<p>Ya hemos visto algunas etiquetas integradas en Twig (<tt class="docutils literal"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}</span></tt> y <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">extends</span> <span class="pre">%}</span></tt>), así como un ejemplo de un ayudante PHP (consulta <tt class="docutils literal"><span class="pre">$view['slot']</span></tt>). Aprendamos un poco más...</p>
<div class="section" id="incluyendo-otras-plantillas">
<span id="incluyendo-plantillas"></span><span id="index-7"></span><h3>Incluyendo otras plantillas<a class="headerlink" href="#incluyendo-otras-plantillas" title="Permalink to this headline">¶</a></h3>
<p>A menudo querrás incluir la misma plantilla o fragmento de código en varias páginas diferentes. Por ejemplo, en una aplicación con &#8220;artículos de noticias&#8221;, el código de la plantilla que muestra un artículo se puede utilizar en la página de detalles del artículo, en una página que muestra los artículos más populares, o en una lista de los últimos artículos.</p>
<p>Cuando necesites volver a utilizar un trozo de código PHP, normalmente mueves el código a una nueva clase o función PHP. Lo mismo es cierto para las plantillas. Al mover el código de la plantilla a su propia plantilla, este se puede incluir en cualquier otra plantilla. En primer lugar, crea la plantilla que tendrás que volver a usar.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# src/Acme/ArticuloBundle/Resources/views/Articulo/articuloDetalles.html.twig #}</span>
<span class="nt">&lt;h1&gt;</span><span class="cp">{{</span> <span class="nv">articulo.titulo</span> <span class="cp">}}</span><span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;h3</span> <span class="na">class=</span><span class="s">&quot;lineapor&quot;</span><span class="nt">&gt;</span>por <span class="cp">{{</span> <span class="nv">articulo.nombreAutor</span> <span class="cp">}}</span><span class="nt">&lt;/h3&gt;</span>

<span class="nt">&lt;p&gt;</span>
  <span class="cp">{{</span> <span class="nv">articulo.cuerpo</span> <span class="cp">}}</span>
<span class="nt">&lt;/p&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="x">&lt;!-- src/Acme/ArticuloBundle/Resources/views/Articulo/articuloDetalles.html.php --&gt;</span>
<span class="x">&lt;h2&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$articulo</span><span class="o">-&gt;</span><span class="na">getTitulo</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x">&lt;/h2&gt;</span>
<span class="x">&lt;h3 class=&quot;lineapor&quot;&gt;por </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$articulo</span><span class="o">-&gt;</span><span class="na">getNombreAutor</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x">&lt;/h3&gt;</span>

<span class="x">&lt;p&gt;</span>
<span class="x">  </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$articulo</span><span class="o">-&gt;</span><span class="na">getCuerpo</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/p&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Incluir esta plantilla en cualquier otra plantilla es sencillo:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# src/Acme/ArticuloBundle/Resources/Articulo/lista.html.twig #}</span>
<span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;AcmeArticuloBundle::base.html.twig&#39;</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">body</span> <span class="cp">%}</span>
    <span class="nt">&lt;h1&gt;</span>Artículos recientes<span class="nt">&lt;h1&gt;</span>

    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">articulo</span> <span class="k">in</span> <span class="nv">articulos</span> <span class="cp">%}</span>
        <span class="cp">{%</span> <span class="k">include</span> <span class="s1">&#39;AcmeArticuloBundle:Articulo:articuloDetalles.html.twig&#39;</span> <span class="k">with</span> <span class="o">{</span><span class="s1">&#39;articulo&#39;</span><span class="o">:</span> <span class="nv">articulo</span><span class="o">}</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="x">&lt;!-- src/Acme/ArticuloBundle/Resources/Articulo/lista.html.php --&gt;</span>
<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">extend</span><span class="p">(</span><span class="s1">&#39;AcmeArticuloBundle::base.html.php&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">start</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    &lt;h1&gt;Artículos recientes&lt;/h1&gt;</span>

<span class="x">    </span><span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$articulos</span> <span class="k">as</span> <span class="nv">$articulo</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">        </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="s1">&#39;AcmeArticuloBundle:Articulo:articuloDetalles.html.php&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;articulo&#39;</span> <span class="o">=&gt;</span> <span class="nv">$articulo</span><span class="p">))</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    </span><span class="cp">&lt;?php</span> <span class="k">endforeach</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">stop</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>La plantilla se incluye con la etiqueta <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">include</span> <span class="pre">%}</span></tt>. Observa que el nombre de la plantilla sigue la misma convención típica. La plantilla <tt class="docutils literal"><span class="pre">articuloDetalles.html.twig</span></tt> utiliza una variable <tt class="docutils literal"><span class="pre">articulo</span></tt>. Esta es proporcionada por la plantilla <tt class="docutils literal"><span class="pre">lista.html.twig</span></tt> utilizando la orden <tt class="docutils literal"><span class="pre">with</span></tt>.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">La sintaxis <tt class="docutils literal"><span class="pre">{'articulo':</span> <span class="pre">articulo}</span></tt> es la sintaxis estándar de Twig para asignar <a href="#id2"><span class="problematic" id="id3">|hash|</span></a> (es decir, una matriz con claves nombradas). Si tuviéramos que pasar varios elementos, se vería así: <tt class="docutils literal"><span class="pre">{'foo':</span> <span class="pre">foo,</span> <span class="pre">'bar':</span> <span class="pre">bar}</span></tt>.</p>
</div>
</div>
<div class="section" id="incrustando-controladores">
<span id="templating-embedding-controller"></span><span id="index-8"></span><h3>Incrustando controladores<a class="headerlink" href="#incrustando-controladores" title="Permalink to this headline">¶</a></h3>
<p>En algunos casos, es necesario hacer algo más que incluir una simple plantilla. Supongamos que en tu diseño tienes una barra lateral, la cual contiene los tres artículos más recientes.
Recuperar los tres artículos puede incluir consultar la base de datos o realizar otra pesada lógica ​​que no se puede hacer desde dentro de una plantilla.</p>
<p>La solución es simplemente insertar el resultado de un controlador en tu plantilla entera. En primer lugar, crea un controlador que reproduzca un cierto número de artículos recientes:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">// src/Acme/ArticuloBundle/Controller/ArticuloController.php</span>

<span class="x">class ArticuloController extends Controller</span>
<span class="x">{</span>
<span class="x">    public function arcticulosRecientesAction($max = 3)</span>
<span class="x">    {</span>
<span class="x">        // hace una llamada a la base de datos u otra lógica para obtener los &quot;$max&quot; artículos más recientes</span>
<span class="x">        $articulos = ...;</span>

<span class="x">        return $this-&gt;render(&#39;AcmeArticuloBundle:Articulo:listaRecientes.html.twig&#39;, array(&#39;articulos&#39; =&gt; $articulos));</span>
<span class="x">    }</span>
<span class="x">}</span>
</pre></div>
</div>
<p>La plantilla <tt class="docutils literal"><span class="pre">listaRecientes</span></tt> es perfectamente clara:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# src/Acme/ArticuloBundle/Resources/views/Articulo/listaRecientes.html.twig #}</span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">articulo</span> <span class="k">in</span> <span class="nv">articulos</span> <span class="cp">%}</span>
  <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/articulo/</span><span class="cp">{{</span> <span class="nv">articulo.ficha</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span>
      <span class="cp">{{</span> <span class="nv">articulo.titulo</span> <span class="cp">}}</span>
  <span class="nt">&lt;/a&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="x">&lt;!-- src/Acme/ArticuloBundle/Resources/views/Articulo/listaRecientes.html.php --&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$articulos</span> <span class="nx">in</span> <span class="nv">$articulo</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    &lt;a href=&quot;/articulo/</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$articulo</span><span class="o">-&gt;</span><span class="na">getFicha</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x">&quot;&gt;</span>
<span class="x">        </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$articulo</span><span class="o">-&gt;</span><span class="na">getTitulo</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    &lt;/a&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endforeach</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Ten en cuenta que en este ejemplo hemos falsificado y codificado la URL del artículo (por ejemplo <tt class="docutils literal"><span class="pre">/articulo/ficha</span></tt>). Esta es una mala práctica. En la siguiente sección, aprenderás cómo hacer esto correctamente.</p>
</div>
<p>Para incluir el controlador, tendrás que referirte a él utilizando la sintaxis de cadena estándar para controladores (es decir, <strong>paquete</strong>:<strong>controlador</strong>:<strong>acción</strong>):</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# app/Resources/views/base.html.twig #}</span>
...

<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;barralateral&quot;</span><span class="nt">&gt;</span>
    <span class="cp">{%</span> <span class="k">render</span> <span class="s2">&quot;AcmeArticuloBundle:Articulo:articulosRecientes&quot;</span> <span class="k">with</span> <span class="o">{</span><span class="s1">&#39;max&#39;</span><span class="o">:</span> <span class="m">3</span><span class="o">}</span> <span class="cp">%}</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="x">&lt;!-- app/Resources/views/base.html.php --&gt;</span>
<span class="x">...</span>

<span class="x">&lt;div id=&quot;barralateral&quot;&gt;</span>
<span class="x">    </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;actions&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="s1">&#39;AcmeArticuloBundle:Articulo:articulosRecientes&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;max&#39;</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">))</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/div&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Cada vez que te encuentres necesitando una variable o una pieza de información a la que una plantilla no tiene acceso, considera reproducir un controlador.
Los controladores se ejecutan rápidamente y promueven la buena organización y reutilización de código.</p>
</div>
<div class="section" id="enlazando-paginas">
<span id="index-9"></span><h3>Enlazando páginas<a class="headerlink" href="#enlazando-paginas" title="Permalink to this headline">¶</a></h3>
<p>La creación de enlaces a otras páginas en tu aplicación es uno de los trabajos más comunes de una plantilla. En lugar de codificar las direcciones URL en las plantillas, utiliza la función <tt class="docutils literal"><span class="pre">path</span></tt> de Twig (o el ayudante <tt class="docutils literal"><span class="pre">router</span></tt> en PHP) para generar direcciones URL basadas en la configuración de enrutado. Más tarde, si deseas modificar la URL de una página en particular, todo lo que tienes que hacer es cambiar la configuración de enrutado, las plantillas automáticamente generarán la nueva URL.</p>
<p>En primer lugar, crea el enlace a la página &#8220;<em>_bienvenida</em>&#8221;, la cual es accesible a través de la siguiente configuración de enrutado:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">_bienvenida</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">pattern</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">/</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span> <span class="nv">_controller</span><span class="p-Indicator">:</span> <span class="nv">AcmeDemoBundle</span><span class="p-Indicator">:</span><span class="nv">Bienvenida</span><span class="p-Indicator">:</span><span class="nv">index</span> <span class="p-Indicator">}</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;route</span> <span class="na">id=</span><span class="s">&quot;_bienvenida&quot;</span> <span class="na">pattern=</span><span class="s">&quot;/&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;default</span> <span class="na">key=</span><span class="s">&quot;_controller&quot;</span><span class="nt">&gt;</span>AcmeDemoBundle:Bienvenida:index<span class="nt">&lt;/default&gt;</span>
<span class="nt">&lt;/route&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="x">$coleccion = new RouteCollection();</span>
<span class="x">$coleccion-&gt;add(&#39;_bienvenida&#39;, new Route(&#39;/&#39;, array(</span>
<span class="x">    &#39;_controller&#39; =&gt; &#39;AcmeDemoBundle:Bienvenida:index&#39;,</span>
<span class="x">)));</span>

<span class="x">return $coleccion;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Para enlazar a la página, sólo tienes que utilizar la función <tt class="docutils literal"><span class="pre">path</span></tt> de Twig y referir la ruta:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">path</span><span class="o">(</span><span class="s1">&#39;_bienvenida&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span>Portada<span class="nt">&lt;/a&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="x">&lt;a href=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;router&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">generate</span><span class="p">(</span><span class="s1">&#39;_bienvenida&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x">&quot;&gt;Portada&lt;/a&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Como era de esperar, esto genera la URL <tt class="docutils literal"><span class="pre">/</span></tt>. Vamos a ver cómo funciona esto con una ruta más complicada:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">articulo_show</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">pattern</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">/articulo/{ficha}</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span> <span class="nv">_controller</span><span class="p-Indicator">:</span> <span class="nv">AcmeArticuloBundle</span><span class="p-Indicator">:</span><span class="nv">Articulo</span><span class="p-Indicator">:</span><span class="nv">show</span> <span class="p-Indicator">}</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;route</span> <span class="na">id=</span><span class="s">&quot;articulo_show&quot;</span> <span class="na">pattern=</span><span class="s">&quot;/articulo/{ficha}&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;default</span> <span class="na">key=</span><span class="s">&quot;_controller&quot;</span><span class="nt">&gt;</span>AcmeArticuloBundle:Articulo:show<span class="nt">&lt;/default&gt;</span>
<span class="nt">&lt;/route&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="x">$coleccion = new RouteCollection();</span>
<span class="x">$coleccion-&gt;add(&#39;articulo_show&#39;, new Route(&#39;/articulo/{ficha}&#39;, array(</span>
<span class="x">    &#39;_controller&#39; =&gt; &#39;AcmeArticuloBundle:Articulo:show&#39;,</span>
<span class="x">)));</span>

<span class="x">return $coleccion;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>En este caso, es necesario especificar el nombre de la ruta (<tt class="docutils literal"><span class="pre">articulo_show</span></tt>) y un valor para el parámetro <tt class="docutils literal"><span class="pre">{ficha}</span></tt>. Usando esta ruta, vamos a volver a la plantilla <tt class="docutils literal"><span class="pre">listaRecientes</span></tt> de la sección anterior y enlazar los artículos correctamente:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# src/Acme/ArticuloBundle/Resources/views/Articulo/listaRecientes.html.twig #}</span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">articulo</span> <span class="k">in</span> <span class="nv">articulos</span> <span class="cp">%}</span>
  <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">path</span><span class="o">(</span><span class="s1">&#39;articulo_show&#39;</span><span class="o">,</span> <span class="o">{</span> <span class="s1">&#39;ficha&#39;</span><span class="o">:</span> <span class="nv">articulo.ficha</span> <span class="o">})</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span>
      <span class="cp">{{</span> <span class="nv">articulo.titulo</span> <span class="cp">}}</span>
  <span class="nt">&lt;/a&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="x">&lt;!-- src/Acme/ArticuloBundle/Resources/views/Articulo/listaRecientes.html.php --&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$articulos</span> <span class="nx">in</span> <span class="nv">$articulo</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    &lt;a href=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;router&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">generate</span><span class="p">(</span><span class="s1">&#39;articulo_show&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;ficha&#39;</span> <span class="o">=&gt;</span> <span class="nv">$articulo</span><span class="o">-&gt;</span><span class="na">getFicha</span><span class="p">())</span> <span class="cp">?&gt;</span><span class="x">&quot;&gt;</span>
<span class="x">        </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$articulo</span><span class="o">-&gt;</span><span class="na">getTitulo</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    &lt;/a&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endforeach</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>También puedes generar una URL absoluta utilizando la función <tt class="docutils literal"><span class="pre">url</span></tt> de Twig:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">url</span><span class="o">(</span><span class="s1">&#39;_bienvenida&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span>Portada<span class="nt">&lt;/a&gt;</span>
</pre></div>
</div>
<p>Lo mismo se puede hacer en plantillas PHP pasando un tercer argumento al método <tt class="docutils literal"><span class="pre">generate()</span></tt>:</p>
<div class="last highlight-php"><div class="highlight"><pre><span class="x">&lt;a href=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;router&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">generate</span><span class="p">(</span><span class="s1">&#39;_bienvenida&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="k">true</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x">&quot;&gt;Portada&lt;/a&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="enlazando-activos">
<span id="index-10"></span><h3>Enlazando activos<a class="headerlink" href="#enlazando-activos" title="Permalink to this headline">¶</a></h3>
<p>Las plantillas también se refieren comúnmente a imágenes, JavaScript, hojas de estilo y otros activos. Por supuesto, puedes codificar la ruta de estos activos (por ejemplo <tt class="docutils literal"><span class="pre">/images/logo.png</span></tt>), pero Symfony2 ofrece una opción más dinámica a través de la función <tt class="docutils literal"><span class="pre">assets</span></tt> de Twig:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">asset</span><span class="o">(</span><span class="s1">&#39;images/logo.png&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="na">alt=</span><span class="s">&quot;Symfony!&quot;</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">asset</span><span class="o">(</span><span class="s1">&#39;css/blog.css&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="x">&lt;img src=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;assets&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">getUrl</span><span class="p">(</span><span class="s1">&#39;images/logo.png&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x">&quot; alt=&quot;Symfony!&quot; /&gt;</span>

<span class="x">&lt;link href=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;assets&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">getUrl</span><span class="p">(</span><span class="s1">&#39;css/blog.css&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x">&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>El propósito principal de la función <tt class="docutils literal"><span class="pre">asset</span></tt> es hacer más portátil tu aplicación.
Si tu aplicación vive en la raíz de tu anfitrión (por ejemplo, <a class="reference external" href="http://ejemplo.com">http://ejemplo.com</a>), entonces las rutas reproducidas deben ser <tt class="docutils literal"><span class="pre">/images/logo.png</span></tt>. Pero si tu aplicación vive en un subdirectorio (por ejemplo, <a class="reference external" href="http://ejemplo.com/mi_aplic">http://ejemplo.com/mi_aplic</a>), cada ruta de activo debe reproducir el subdirectorio (por ejemplo <tt class="docutils literal"><span class="pre">/mi_aplic/images/logo.png</span></tt>). La función <tt class="docutils literal"><span class="pre">asset</span></tt> se encarga de esto determinando cómo se está utilizando tu aplicación y generando las rutas correctas en consecuencia.</p>
</div>
</div>
<div class="section" id="incluyendo-hojas-de-estilo-y-javascript-en-twig">
<span id="index-11"></span><h2>Incluyendo hojas de estilo y JavaScript en Twig<a class="headerlink" href="#incluyendo-hojas-de-estilo-y-javascript-en-twig" title="Permalink to this headline">¶</a></h2>
<p>Ningún sitio estaría completo sin incluir archivos de JavaScript y hojas de estilo.
En Symfony, la inclusión de estos activos se maneja elegantemente, aprovechando la herencia de plantillas de Symfony.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Esta sección te enseñará la filosofía detrás de la inclusión de activos como hojas de estilo y Javascript en Symfony. Symfony también empaca otra biblioteca, llamada <tt class="docutils literal"><span class="pre">assetic</span></tt>, la cual sigue esta filosofía, pero te permite hacer cosas mucho más interesantes con esos activos. Para más información sobre el uso de <tt class="docutils literal"><span class="pre">assetic</span></tt> consulta <a class="reference internal" href="../cookbook/assetic/asset_management.html"><em>Cómo utilizar Assetic para gestionar activos</em></a>.</p>
</div>
<p>Comienza agregando dos bloques a la plantilla base que mantendrá tus activos: uno llamado <tt class="docutils literal"><span class="pre">stylesheet</span></tt> dentro de la etiqueta <tt class="docutils literal"><span class="pre">head</span></tt> y otro llamado <tt class="docutils literal"><span class="pre">javascript</span></tt> justo por encima de la etiqueta de cierre <tt class="docutils literal"><span class="pre">body</span></tt>. Estos bloques deben contener todas las hojas de estilo y archivos Javascript que necesitas en tu sitio:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# &#39;app/Resources/views/base.html.twig&#39; #}</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="c">{# ... #}</span>

        <span class="cp">{%</span> <span class="k">block</span> <span class="nv">stylesheets</span> <span class="cp">%}</span>
            <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">asset</span><span class="o">(</span><span class="s1">&#39;/css/main.css&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="nt">/&gt;</span>
        <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="c">{# ... #}</span>

        <span class="cp">{%</span> <span class="k">block</span> <span class="nv">javascripts</span> <span class="cp">%}</span>
            <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">asset</span><span class="o">(</span><span class="s1">&#39;/js/main.js&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<p>¡Eso es bastante fácil! Pero ¿y si es necesario incluir una hoja de estilo extra o archivos Javascript desde una plantilla hija? Por ejemplo, supongamos que tienes una página de contacto y necesitas incluir una hoja de estilo <tt class="docutils literal"><span class="pre">contacto.css</span></tt> <em>sólo</em> en esa página. Desde dentro de la plantilla de la página de contacto, haz lo siguiente:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# src/Acme/DemoBundle/Resources/views/Contacto/contacto.html.twig #}</span>
<span class="c">{# extends &#39;::base.html.twig&#39; #}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">stylesheets</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nv">parent</span><span class="o">()</span> <span class="cp">}}</span>

    <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">asset</span><span class="o">(</span><span class="s1">&#39;/css/contacto.css&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="nt">/&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>

<span class="c">{# ... #}</span>
</pre></div>
</div>
<p>En la plantilla hija, sólo tienes que reemplazar el bloque <tt class="docutils literal"><span class="pre">stylesheet</span></tt> y poner tu nueva etiqueta de hoja de estilo dentro de ese bloque. Por supuesto, debido a que deseas añadir al contenido del bloque padre (y no <em>cambiarlo</em> en realidad), debes usar la función <tt class="docutils literal"><span class="pre">parent()</span></tt> de Twig para incluir todo, desde el bloque <tt class="docutils literal"><span class="pre">stylesheet</span></tt> de la plantilla base.</p>
<p>El resultado final es una página que incluye ambas hojas de estilo <tt class="docutils literal"><span class="pre">main.css</span></tt> y <tt class="docutils literal"><span class="pre">contacto.css</span></tt>.</p>
</div>
<div class="section" id="configurando-y-usando-el-servicio-plantilla">
<span id="index-12"></span><h2>Configurando y usando el servicio <tt class="docutils literal"><span class="pre">plantilla</span></tt><a class="headerlink" href="#configurando-y-usando-el-servicio-plantilla" title="Permalink to this headline">¶</a></h2>
<p>El corazón del sistema de plantillas en Symfony2 es el <tt class="docutils literal"><span class="pre">motor</span></tt> de plantillas.
Este objeto especial es el encargado de reproducir las plantillas y devolver su contenido. Cuando reproduces una plantilla en un controlador, por ejemplo, en realidad estás usando el motor del servicio de plantillas. Por ejemplo:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">return $this-&gt;render(&#39;AcmeArticuloBundle:Articulo:index.html.twig&#39;);</span>
</pre></div>
</div>
<p>es equivalente a</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">$motor = $this-&gt;container-&gt;get(&#39;templating&#39;);</span>
<span class="x">$contenido = $motor-&gt;render(&#39;AcmeArticuloBundle:Articulo:index.html.twig&#39;);</span>

<span class="x">return $respuesta = new Response($contenido);</span>
</pre></div>
</div>
<p id="template-configuration">El motor de plantillas (o &#8220;servicio&#8221;) está configurado para funcionar automáticamente al interior de Symfony2. Por supuesto, puedes configurar más en el archivo de configuración de la aplicación:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># app/config/config.yml</span>
<span class="l-Scalar-Plain">framework</span><span class="p-Indicator">:</span>
    <span class="c1"># ...</span>
    <span class="l-Scalar-Plain">templating</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span> <span class="nv">engines</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="s">&#39;twig&#39;</span><span class="p-Indicator">]</span> <span class="p-Indicator">}</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- app/config/config.xml --&gt;</span>
<span class="nt">&lt;framework:templating&gt;</span>
    <span class="nt">&lt;framework:engine</span> <span class="na">id=</span><span class="s">&quot;twig&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/framework:templating&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="x">// app/config/config.php</span>
<span class="x">$contenedor-&gt;loadFromExtension(&#39;framework&#39;, array(</span>
<span class="x">    // ...</span>
<span class="x">    &#39;templating&#39;      =&gt; array(</span>
<span class="x">        &#39;engines&#39; =&gt; array(&#39;twig&#39;),</span>
<span class="x">    ),</span>
<span class="x">));</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Disponemos de muchas opciones de configuración y están cubiertas en el <a class="reference internal" href="../reference/configuration/framework.html"><em>Apéndice Configurando</em></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">En el motor de <tt class="docutils literal"><span class="pre">twig</span></tt> es obligatorio el uso del <tt class="docutils literal"><span class="pre">webprofiler</span></tt> (así como muchos otros paquetes de terceros).</p>
</div>
</div>
<div class="section" id="sustituyendo-plantillas-del-paquete">
<span id="overriding-bundle-templates"></span><span id="index-13"></span><h2>Sustituyendo plantillas del paquete<a class="headerlink" href="#sustituyendo-plantillas-del-paquete" title="Permalink to this headline">¶</a></h2>
<p>La comunidad de Symfony2 se enorgullece de crear y mantener paquetes de alta calidad (consulta <a class="reference external" href="http://symfony2bundles.org">Symfony2Bundles.org</a>) para una gran cantidad de diferentes características.
Una vez que utilizas un paquete de terceros, probablemente necesites redefinir y personalizar una o más de sus plantillas.</p>
<p>Supongamos que hemos incluido el paquete imaginario <tt class="docutils literal"><span class="pre">AcmeBlogBundle</span></tt> de código abierto en el proyecto (por ejemplo, en el directorio <tt class="docutils literal"><span class="pre">src/Acme/BlogBundle</span></tt>). Y si bien estás muy contento con todo, deseas sustituir la página &#8220;lista&#8221; del blog para personalizar el marcado específicamente para tu aplicación. Al excavar en el controlador del <tt class="docutils literal"><span class="pre">Blog</span></tt> de <tt class="docutils literal"><span class="pre">AcmeBlogBundle</span></tt>, encuentras lo siguiente:</p>
<div class="highlight-python"><pre>public function indexAction()
{
    $blogs = // cierta lógica para recuperar las entradas

    $this-&gt;render('AcmeBlogBundle:Blog:index.html.twig', array('blogs' =&gt; $blogs));
}</pre>
</div>
<p>Al reproducir <tt class="docutils literal"><span class="pre">AcmeBlogBundle:Blog:index.html.twig</span></tt>, en realidad Symfony2 busca la plantilla en dos diferentes lugares:</p>
<ol class="arabic simple">
<li><tt class="docutils literal"><span class="pre">app/Resources/AcmeBlogBundle/views/Blog/index.html.twig</span></tt></li>
<li><tt class="docutils literal"><span class="pre">src/Acme/BlogBundle/Resources/views/Blog/index.html.twig</span></tt></li>
</ol>
<p>Para sustituir la plantilla del paquete, sólo tienes que copiar la plantilla <tt class="docutils literal"><span class="pre">index.html.twig</span></tt> del paquete a <tt class="docutils literal"><span class="pre">app/Resources/AcmeBlogBundle/views/Blog/index.html.twig</span></tt> (el directorio <tt class="docutils literal"><span class="pre">app/Resources/AcmeBlogBundle</span></tt> no existe, por lo tanto tendrás que crearlo). Ahora eres libre de personalizar la plantilla para tu aplicación.</p>
<p>Esta lógica también aplica a las plantillas base del paquete. Supongamos también que cada plantilla en <tt class="docutils literal"><span class="pre">AcmeBlogBundle</span></tt> hereda de una plantilla base llamada <tt class="docutils literal"><span class="pre">AcmeBlogBundle::base.html.twig</span></tt>. Al igual que antes, Symfony2 buscará la plantilla en los dos siguientes lugares:</p>
<ol class="arabic simple">
<li><tt class="docutils literal"><span class="pre">app/Resources/AcmeBlogBundle/views/base.html.twig</span></tt></li>
<li><tt class="docutils literal"><span class="pre">src/Acme/BlogBundle/Resources/views/base.html.twig</span></tt></li>
</ol>
<p>Una vez más, para sustituir la plantilla, sólo tienes que copiarla desde el paquete a <tt class="docutils literal"><span class="pre">app/Resources/AcmeBlogBundle/views/base.html.twig</span></tt>. Ahora estás en libertad de personalizar esta copia como mejor te parezca.</p>
<p>Si retrocedes un paso, verás que Symfony2 siempre empieza a buscar una plantilla en el directorio <tt class="docutils literal"><span class="pre">app/Resources/{NOMBRE_PAQUETE}/views/</span></tt>. Si la plantilla no existe allí, continúa buscando dentro del directorio <tt class="docutils literal"><span class="pre">Resources/views</span></tt> del propio paquete. Esto significa que todas las plantillas del paquete se pueden sustituir colocándolas en el subdirectorio <tt class="docutils literal"><span class="pre">app/Resources</span></tt> correcto.</p>
<span class="target" id="templating-overriding-core-templates"></span><div class="section" id="sustituyendo-plantillas-del-nucleo">
<span id="index-14"></span><h3>Sustituyendo plantillas del núcleo<a class="headerlink" href="#sustituyendo-plantillas-del-nucleo" title="Permalink to this headline">¶</a></h3>
<p>Puesto que la plataforma Symfony2 en sí misma sólo es un paquete, las plantillas del núcleo se pueden sustituir de la misma manera. Por ejemplo, <tt class="docutils literal"><span class="pre">FrameworkBundle</span></tt> del núcleo contiene una serie de diferentes plantillas para &#8220;excepción&#8221; y &#8220;error&#8221; que se pueden sustituir copiando cada una del directorio <tt class="docutils literal"><span class="pre">Resources/views/Exception</span></tt> de <tt class="docutils literal"><span class="pre">FrameworkBundle</span></tt> al directorio... ¡adivinaste! <tt class="docutils literal"><span class="pre">app/Resources/FrameworkBundle/views/Exception</span></tt>.</p>
</div>
</div>
<div class="section" id="herencia-de-tres-niveles">
<span id="index-15"></span><h2>Herencia de tres niveles<a class="headerlink" href="#herencia-de-tres-niveles" title="Permalink to this headline">¶</a></h2>
<p>Una manera común de usar la herencia es utilizar un enfoque de tres niveles. Este método funciona a la perfección con los tres diferentes tipos de plantillas que acabamos de cubrir:</p>
<ul>
<li><p class="first">Crea un archivo <tt class="docutils literal"><span class="pre">app/Resources/views/base.html.twig</span></tt> que contenga el diseño principal para tu aplicación (como en el ejemplo anterior). Internamente, esta plantilla se llama <tt class="docutils literal"><span class="pre">::base.html.twig</span></tt>;</p>
</li>
<li><p class="first">Crea una plantilla para cada &#8220;sección&#8221; de tu sitio. Por ejemplo, un <tt class="docutils literal"><span class="pre">AcmeBlogBundle</span></tt>, tendría una plantilla llamada <tt class="docutils literal"><span class="pre">AcmeBlogBundle::base.html.twig</span></tt> que sólo contiene los elementos específicos de la sección blog;</p>
<blockquote>
<div><div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# src/Acme/BlogBundle/Resources/views/base.html.twig #}</span>
<span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;::base.html.twig&#39;</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">body</span> <span class="cp">%}</span>
    <span class="nt">&lt;h1&gt;</span>Aplicación Blog<span class="nt">&lt;/h1&gt;</span>

    <span class="cp">{%</span> <span class="k">block</span> <span class="nv">contenido</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">Crea plantillas individuales para cada página y haz que cada una extienda la plantilla de la sección adecuada. Por ejemplo, la página &#8220;index&#8221; se llama algo parecido a <tt class="docutils literal"><span class="pre">AcmeBlogBundle:Blog:index.html.twig</span></tt> y lista las entradas del blog real.</p>
<blockquote>
<div><div class="highlight-html+jinja"><pre>{# src/Acme/BlogBundle/Resources/views/Blog/index.html.twig #}
{% extends 'AcmeBlogBundle::base.html.twig' %}

{% block contenido %}
    {% for entrada in entradas_blog %}
        &lt;h2&gt;{{ entrada.titulo }}&lt;/h2&gt;
        &lt;p&gt;{{ entrada.cuerpo;/p&gt;
    {% endfor %}
{% endblock %}</pre>
</div>
</div></blockquote>
</li>
</ul>
<p>Ten en cuenta que esta plantilla extiende la plantilla de la sección - (<tt class="docutils literal"><span class="pre">AcmeBlogBundle::base.html.twig</span></tt>), que a su vez, extiende el diseño base de la aplicación (<tt class="docutils literal"><span class="pre">::base.html.twig</span></tt>).
Este es el modelo común de la herencia de tres niveles.</p>
<p>Cuando construyas tu aplicación, podrás optar por este método o, simplemente, hacer que cada plantilla de página extienda directamente la plantilla base de tu aplicación (por ejemplo, <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">extends</span> <span class="pre">'::base.html.twig'</span> <span class="pre">%}</span></tt>). El modelo de tres plantillas es un método de las buenas prácticas utilizadas por los paquetes de proveedores a fin de que la plantilla base de un paquete se pueda sustituir fácilmente para extender correctamente el diseño base de tu aplicación.</p>
</div>
<div class="section" id="mecanismo-de-escape">
<span id="index-16"></span><h2>Mecanismo de escape<a class="headerlink" href="#mecanismo-de-escape" title="Permalink to this headline">¶</a></h2>
<p>Cuando generas HTML a partir de una plantilla, siempre existe el riesgo de que una variable de plantilla pueda producir HTML involuntario o código peligroso de lado del cliente. El resultado es que el contenido dinámico puede romper el código HTML de la página resultante o permitir a un usuario malicioso realizar un ataque de <a class="reference external" href="http://es.wikipedia.org/wiki/Cross-site_scripting">Explotación de vulnerabilidades del sistema</a> (Cross Site Scripting XSS). Considera este ejemplo clásico:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-jinja"><div class="highlight"><pre><span class="x">Hola </span><span class="cp">{{</span> <span class="nv">nombre</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="x">Hola </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$nombre</span> <span class="cp">?&gt;</span><span class="x">!</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Imagina que el usuario introduce el siguiente código como su nombre:</p>
<div class="highlight-python"><pre>&lt;script&gt;alert('hola!')&lt;/script&gt;</pre>
</div>
<p>Sin ningún tipo de mecanismo de escape, la plantilla resultante provocaría que aparezca un cuadro de alerta JavaScript:</p>
<div class="highlight-python"><pre>Hola &lt;script&gt;alert('hola!')&lt;/script&gt;</pre>
</div>
<p>Y aunque esto parece inofensivo, si un usuario puede llegar hasta aquí, ese mismo usuario también debe ser capaz de escribir código JavaScript malicioso que realice acciones dentro de la zona segura de un usuario legítimo sin saberlo.</p>
<p>La respuesta al problema es el mecanismo de escape. Con el mecanismo de escape, reproduces la misma plantilla sin causar daño alguno, y, literalmente, imprimes en pantalla la etiqueta <tt class="docutils literal"><span class="pre">script</span></tt>:</p>
<div class="highlight-python"><pre>Hola &amp;lt;script&amp;gt;alert(&amp;#39;holae&amp;#39;)&amp;lt;/script&amp;gt;</pre>
</div>
<p>Twig y los sistemas de plantillas PHP abordan el problema de diferentes maneras.
Si estás utilizando Twig, el mecanismo de escape por omisión está activado y tu aplicación está protegida.
En PHP, el mecanismo de escape no es automático, lo cual significa que, de ser necesario, necesitas escapar todo manualmente.</p>
<div class="section" id="mecanismo-de-escape-en-twig">
<h3>Mecanismo de escape en Twig<a class="headerlink" href="#mecanismo-de-escape-en-twig" title="Permalink to this headline">¶</a></h3>
<p>Si estás utilizando las plantillas de Twig, entonces el mecanismo de escape está activado por omisión. Esto significa que estás protegido fuera de la caja de las consecuencias no intencionales del código presentado por los usuarios. De forma predeterminada, el mecanismo de escape asume que el contenido se escapó para salida HTML.</p>
<p>En algunos casos, tendrás que desactivar el mecanismo de escape cuando estás reproduciendo una variable de confianza y marcado que no se debe escapar.
Supongamos que los usuarios administrativos están autorizados para escribir artículos que contengan código HTML. De forma predeterminada, Twig debe escapar el cuerpo del artículo. Para reproducirlo normalmente, agrega el filtro <tt class="docutils literal"><span class="pre">raw</span></tt>: <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">articulo.cuerpo</span> <span class="pre">|</span> <span class="pre">raw</span> <span class="pre">}}</span></tt>.</p>
<p>También puedes desactivar el mecanismo de escape dentro de una área <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}</span></tt> o para una plantilla completa. Para más información, consulta la documentación del <a class="reference external" href="http://www.twig-project.org">Mecanismo de escape</a>  Twig.</p>
</div>
<div class="section" id="mecanismo-de-escape-en-php">
<h3>Mecanismo de escape en PHP<a class="headerlink" href="#mecanismo-de-escape-en-php" title="Permalink to this headline">¶</a></h3>
<p>El mecanismo de escape no es automático cuando utilizas plantillas PHP. Esto significa que a menos que escapes una variable expresamente, no estás protegido. Para utilizar el mecanismo de escape, usa el método especial de la vista <tt class="docutils literal"><span class="pre">escape()</span></tt>:</p>
<div class="highlight-python"><pre>Hola &lt;?php echo $view-&gt;escape($nombre) ?&gt;</pre>
</div>
<p>De forma predeterminada, el método <tt class="docutils literal"><span class="pre">escape()</span></tt> asume que la variable se está reproduciendo en un contexto HTML (y por tanto la variable se escapa para que sea HTML seguro).
El segundo argumento te permite cambiar el contexto. Por ejemplo, para mostrar algo en una cadena JavaScript, utiliza el contexto <tt class="docutils literal"><span class="pre">js</span></tt>:</p>
<div class="highlight-js"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">miMsj</span> <span class="o">=</span> <span class="s1">&#39;Hola &lt;?php echo $view-&gt;escape($nombre, &#39;</span><span class="nx">js</span><span class="s1">&#39;) ?&gt;&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="formato-de-plantillas">
<span id="template-formats"></span><span id="index-17"></span><h2>Formato de plantillas<a class="headerlink" href="#formato-de-plantillas" title="Permalink to this headline">¶</a></h2>
<p>Las plantillas son una manera genérica para reproducir contenido en <em>cualquier</em> formato. Y aunque en la mayoría de los casos debes utilizar plantillas para reproducir contenido HTML, una plantilla fácilmente puede generar JavaScript, CSS, XML o cualquier otro formato que puedas soñar.</p>
<p>Por ejemplo, el mismo &#8220;recurso&#8221; a menudo se reproduce en varios formatos diferentes.
Para reproducir una página índice de artículos en formato XML, basta con incluir el formato en el nombre de la plantilla:</p>
<p><em>nombre de plantilla XML</em>: <tt class="docutils literal"><span class="pre">AcmeArticuloBundle:Articulo:index.xml.twig</span></tt>
<em>nombre de archivo XML</em>: <tt class="docutils literal"><span class="pre">index.xml.twig</span></tt></p>
<p>En realidad, esto no es más que una convención de nomenclatura y la plantilla realmente no se reproduce de manera diferente en función de ese formato.</p>
<p>En muchos casos, posiblemente desees permitir que un solo controlador reproduzca múltiples formatos basándose en el &#8220;formato de la petición&#8221;. Por esa razón, un patrón común es hacer lo siguiente:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">public function indexAction()</span>
<span class="x">{</span>
<span class="x">    $formato = $this-&gt;getRequest()-&gt;getRequestFormat();</span>

<span class="x">    return $this-&gt;render(&#39;AcmeBlogBundle:Blog:index.&#39;.$formato.&#39;.twig&#39;);</span>
<span class="x">}</span>
</pre></div>
</div>
<p>El <tt class="docutils literal"><span class="pre">getRequestFormat</span></tt> en el objeto <tt class="docutils literal"><span class="pre">Petición</span></tt> por omisión es HTML, pero lo puedes devolver en cualquier otro formato basándote en el formato solicitado por el usuario.
El formato de la petición muy frecuentemente es gestionado por el ruteador, donde puedes configurar una ruta para que <tt class="docutils literal"><span class="pre">/contacto</span></tt> establezca el formato <tt class="docutils literal"><span class="pre">html</span></tt> de la petición, mientras que <tt class="docutils literal"><span class="pre">/contacto.xml</span></tt> establezca al formato <tt class="docutils literal"><span class="pre">xml</span></tt>. Para más información, consulta el <a class="reference internal" href="routing.html#advanced-routing-example"><em>ejemplo avanzado en el capítulo de Enrutado</em></a>.</p>
<p>Para crear enlaces que incluyan el parámetro de formato, agrega una clave <tt class="docutils literal"><span class="pre">_format</span></tt> en el parámetro <a href="#id4"><span class="problematic" id="id5">|hash|</span></a>:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">path</span><span class="o">(</span><span class="s1">&#39;articulo_show&#39;</span><span class="o">,</span> <span class="o">{</span><span class="s1">&#39;id&#39;</span><span class="o">:</span> <span class="m">123</span><span class="o">,</span> <span class="s1">&#39;_format&#39;</span><span class="o">:</span> <span class="s1">&#39;pdf&#39;</span><span class="o">})</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span>
        Versión PDF
    <span class="nt">&lt;/a&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-html+php"><div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;router&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">generate</span><span class="p">(</span><span class="s1">&#39;articulo_show&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">123</span><span class="p">,</span> <span class="s1">&#39;_format&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;pdf&#39;</span><span class="p">))</span> <span class="cp">?&gt;</span><span class="s">&quot;</span><span class="nt">&gt;</span>
    Versión PDF
<span class="nt">&lt;/a&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="consideraciones-finales">
<h2>Consideraciones finales<a class="headerlink" href="#consideraciones-finales" title="Permalink to this headline">¶</a></h2>
<p>El motor de plantillas de Symfony es una poderosa herramienta que puedes utilizar cada vez que necesites generar contenido de presentación en HTML, XML o cualquier otro formato.
Y aunque las plantillas son una manera común de generar contenido en un controlador, su uso no es obligatorio. El objeto <tt class="docutils literal"><span class="pre">Petición</span></tt> devuelto por un controlador se puede crear usando o sin usar una plantilla:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">// crea un objeto Respuesta donde el contenido reproduce la plantilla</span>
<span class="x">$respuesta = $this-&gt;render(&#39;AcmeArticuloBundle:Articulo:index.html.twig&#39;);</span>

<span class="x">// crea un objeto Response cuyo contenido es texto simple</span>
<span class="x">$respuesta = new Response(&#39;contenido respuesta&#39;);</span>
</pre></div>
</div>
<p>El motor de plantillas de Symfony es muy flexible y de manera predeterminada hay dos diferentes reproductores de plantilla disponibles: las tradicionales plantillas <em>PHP</em> y las elegantes y potentes plantillas <em>Twig</em>. Ambas apoyan una jerarquía de plantillas y vienen empacadas con un rico conjunto de funciones ayudantes capaces de realizar las tareas más comunes.</p>
<p>En general, el tema de las plantillas se debe pensar como una poderosa herramienta que está a tu disposición. En algunos casos, posiblemente no necesites reproducir una plantilla, y en Symfony2, eso está absolutamente bien.</p>
</div>
<div class="section" id="aprende-mas-en-el-recetario">
<h2>Aprende más en el recetario<a class="headerlink" href="#aprende-mas-en-el-recetario" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="../cookbook/templating/PHP.html"><em>Cómo usar plantillas PHP en lugar de Twig</em></a></li>
<li><a class="reference internal" href="../cookbook/controller/error_pages.html"><em>Cómo personalizar páginas de error</em></a></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Creando y usando plantillas</a><ul>
<li><a class="reference internal" href="#plantillas">Plantillas</a><ul>
<li><a class="reference internal" href="#guardando-plantillas-twig-en-cache">Guardando plantillas Twig en caché</a></li>
</ul>
</li>
<li><a class="reference internal" href="#plantillas-herencia-y-diseno">Plantillas, herencia y diseño</a></li>
<li><a class="reference internal" href="#nomenclatura-y-ubicacion-de-plantillas">Nomenclatura y ubicación de plantillas</a><ul>
<li><a class="reference internal" href="#sufijo-de-plantilla">Sufijo de plantilla</a></li>
</ul>
</li>
<li><a class="reference internal" href="#etiquetas-y-ayudantes">Etiquetas y ayudantes</a><ul>
<li><a class="reference internal" href="#incluyendo-otras-plantillas">Incluyendo otras plantillas</a></li>
<li><a class="reference internal" href="#incrustando-controladores">Incrustando controladores</a></li>
<li><a class="reference internal" href="#enlazando-paginas">Enlazando páginas</a></li>
<li><a class="reference internal" href="#enlazando-activos">Enlazando activos</a></li>
</ul>
</li>
<li><a class="reference internal" href="#incluyendo-hojas-de-estilo-y-javascript-en-twig">Incluyendo hojas de estilo y JavaScript en Twig</a></li>
<li><a class="reference internal" href="#configurando-y-usando-el-servicio-plantilla">Configurando y usando el servicio <tt class="docutils literal"><span class="pre">plantilla</span></tt></a></li>
<li><a class="reference internal" href="#sustituyendo-plantillas-del-paquete">Sustituyendo plantillas del paquete</a><ul>
<li><a class="reference internal" href="#sustituyendo-plantillas-del-nucleo">Sustituyendo plantillas del núcleo</a></li>
</ul>
</li>
<li><a class="reference internal" href="#herencia-de-tres-niveles">Herencia de tres niveles</a></li>
<li><a class="reference internal" href="#mecanismo-de-escape">Mecanismo de escape</a><ul>
<li><a class="reference internal" href="#mecanismo-de-escape-en-twig">Mecanismo de escape en Twig</a></li>
<li><a class="reference internal" href="#mecanismo-de-escape-en-php">Mecanismo de escape en PHP</a></li>
</ul>
</li>
<li><a class="reference internal" href="#formato-de-plantillas">Formato de plantillas</a></li>
<li><a class="reference internal" href="#consideraciones-finales">Consideraciones finales</a></li>
<li><a class="reference internal" href="#aprende-mas-en-el-recetario">Aprende más en el recetario</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="routing.html"
                        title="previous chapter">Enrutando</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="doctrine.html"
                        title="next chapter">Bases de datos y Doctrine (&#8220;el modelo&#8221;)</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/book/templating.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="doctrine.html" title="Bases de datos y Doctrine (“el modelo”)"
             >next</a> |</li>
        <li class="right" >
          <a href="routing.html" title="Enrutando"
             >previous</a> |</li>
        <li><a href="../index.html">symfony-docs-es v1 documentation</a> &raquo;</li>
          <li><a href="index.html" >Libro</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Osukaru.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>