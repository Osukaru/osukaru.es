

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Rendimiento &mdash; symfony-docs-es v1 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="symfony-docs-es v1 documentation" href="../index.html" />
    <link rel="up" title="Libro" href="index.html" />
    <link rel="next" title="Funcionamiento interno" href="internals.html" />
    <link rel="prev" title="Contenedor de servicios" href="service_container.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="internals.html" title="Funcionamiento interno"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="service_container.html" title="Contenedor de servicios"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">symfony-docs-es v1 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Libro</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="rendimiento">
<span id="index-0"></span><h1>Rendimiento<a class="headerlink" href="#rendimiento" title="Permalink to this headline">¶</a></h1>
<p>Symfony2 es rápido, desde que lo sacas de la caja. Por supuesto, si realmente necesitas velocidad, hay muchas maneras en las cuales puedes hacer que Symfony sea aún más rápido. En este capítulo, podrás explorar muchas de las formas más comunes y potentes para hacer que tu aplicación Symfony sea aún más rápida.</p>
<div class="section" id="utilizando-una-cache-de-codigo-de-bytes-p-ej-apc">
<span id="index-1"></span><h2>Utilizando una caché de código de bytes (p. ej. APC)<a class="headerlink" href="#utilizando-una-cache-de-codigo-de-bytes-p-ej-apc" title="Permalink to this headline">¶</a></h2>
<p>Una de los mejores (y más fáciles) cosas que debes hacer para mejorar tu rendimiento es utilizar una &#8220;caché de código de bytes&#8221;. La idea de una caché de código de bytes es eliminar la necesidad de constantemente tener que volver a compilar el código fuente PHP. Hay disponible una serie de <a class="reference external" href="http://en.wikipedia.org/wiki/List_of_PHP_accelerators">cachés de código de bytes</a>, algunas de las cuales son de código abierto. Probablemente, la caché de código de bytes más utilizada sea <a class="reference external" href="http://php.net/manual/es/book.apc.php_`autoloader.php`:https://github.com/symfony/symfony-standard/blob/master/app/autoload.php_`Archivosdearranque`:https://github.com/sensio/SensioDistributionBundle/blob/master/Resources/bin/build_bootstrap.php">APC</a></p>
<p>Usar un caché de código de bytes realmente no tiene ningún inconveniente, y Symfony2 se ha diseñado para llevar a cabo muy bien en este tipo de entorno.</p>
<div class="section" id="optimizacion-adicional">
<h3>Optimización adicional<a class="headerlink" href="#optimizacion-adicional" title="Permalink to this headline">¶</a></h3>
<p>La caché de código de bytes, por lo general, comprueba los cambios de los archivos fuente. Esto asegura que si cambia un archivo fuente, el código de bytes se vuelve a compilar automáticamente.
Esto es muy conveniente, pero, obviamente, implica una sobrecarga.</p>
<p>Por esta razón, algunas cachés de código de bytes ofrecen una opción para desactivar esa comprobación.
Obviamente, cuando desactivas esta comprobación, será responsabilidad del administrador del servidor asegurarse de que la caché se borra cada vez que cambia un archivo fuente. De lo contrario, no se verán los cambios realizados.</p>
<p>Por ejemplo, para desactivar estos controles en APC, sólo tienes que añadir la opción <tt class="docutils literal"><span class="pre">apc.stat=0</span></tt> en tu archivo de configuración <tt class="docutils literal"><span class="pre">php.ini</span></tt>.</p>
</div>
</div>
<div class="section" id="usa-un-autocargador-con-cache-p-ej-apcuniversalclassloader">
<span id="index-2"></span><h2>Usa un autocargador con caché (p. ej. <tt class="docutils literal"><span class="pre">ApcUniversalClassLoader</span></tt>)<a class="headerlink" href="#usa-un-autocargador-con-cache-p-ej-apcuniversalclassloader" title="Permalink to this headline">¶</a></h2>
<p>De manera predeterminada, la edición estándar de Symfony2 utiliza el <tt class="docutils literal"><span class="pre">UniversalClassLoader</span></tt> del archivo <a href="#id1"><span class="problematic" id="id2">`autoloader.php`_</span></a>. Este autocargador es fácil de usar, ya que automáticamente encontrará cualquier nueva clase que hayas colocado en los directorios registrados.</p>
<p>Desafortunadamente, esto tiene un costo, puesto que el cargador itera en todos los espacios de nombres configurados para encontrar un archivo, haciendo llamadas a <tt class="docutils literal"><span class="pre">file_exists</span></tt> hasta que finalmente encuentra el archivo que está buscando.</p>
<p>La solución más sencilla es que la caché memorice la ubicación de cada clase después de encontrarla por primera vez. Symfony incluye una clase cargadora - <tt class="docutils literal"><span class="pre">ApcUniversalClassLoader</span></tt> - que extiende al <tt class="docutils literal"><span class="pre">UniversalClassLoader</span></tt> y almacena la ubicación de las clases en APC.</p>
<p>Para utilizar este cargador de clases, sólo tienes que adaptar tu <tt class="docutils literal"><span class="pre">autoloader.php</span></tt> como sigue:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">// app/autoload.php</span>
<span class="x">require __DIR__.&#39;/../vendor/symfony/src/Symfony/Component/ClassLoader/UniversalClassLoader.php&#39;;</span>
<span class="x">require __DIR__.&#39;/../vendor/symfony/src/Symfony/Component/ClassLoader/ApcUniversalClassLoader.php&#39;;</span>

<span class="x">use Symfony\Component\ClassLoader\ApcUniversalClassLoader;</span>

<span class="x">$loader = new ApcUniversalClassLoader(&#39;algún prefijo de caché único&#39;);</span>
<span class="x">// ...</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Al utilizar el autocargador APC, si agregas nuevas clases, estas serán encontradas automáticamente y todo funcionará igual que antes (es decir, no hay razón para &#8220;limpiar&#8221; la caché). Sin embargo, si cambias la ubicación de un determinado espacio de nombres o prefijo, tendrás que limpiar tu caché APC. De lo contrario, el cargador aún buscará en la ubicación anterior todas las clases dentro de ese espacio de nombres.</p>
</div>
</div>
<div class="section" id="utilizando-archivos-de-arranque">
<span id="index-3"></span><h2>Utilizando archivos de arranque<a class="headerlink" href="#utilizando-archivos-de-arranque" title="Permalink to this headline">¶</a></h2>
<p>Para garantizar una óptima flexibilidad y reutilización de código, las aplicaciones de Symfony2 aprovechan una variedad de clases y componentes de terceros. Pero cargar todas estas clases desde archivos separados en cada petición puede dar lugar a alguna sobrecarga. Para reducir esta sobrecarga, la edición estándar de Symfony2 proporciona un guión para generar lo que se conoce como <a href="#id3"><span class="problematic" id="id4">`archivo de arranque`_</span></a>, el cual contiene la definición de múltiples clases en un solo archivo. Al incluir este archivo (el cual contiene una copia de muchas de las clases del núcleo), Symfony ya no tiene que incluir algunos de los archivos de código fuente que contienen las clases. Esto reducirá bastante la E/S del disco.</p>
<p>Si estás utilizando la edición estándar de Symfony2, entonces probablemente ya estás utilizando el archivo de arranque. Para estar seguro, abre el controlador frontal (por lo general <tt class="docutils literal"><span class="pre">app.php</span></tt>) y asegúrate de que existe una de las siguientes líneas y no tiene comentarios (exactamente la que necesitas depende de si estás utilizando la <a class="reference internal" href="http_cache.html"><em>capa de almacenamiento en caché HTTP</em></a> de Symfony):</p>
<div class="highlight-python"><pre>require_once __DIR__.'/../app/bootstrap.php.cache';
require_once __DIR__.'/../app/bootstrap_cache.php.cache';</pre>
</div>
<p>Ten en cuenta que hay dos desventajas cuando utilizas un archivo de arranque:</p>
<ul class="simple">
<li>El archivo se tiene que regenerar cada vez que cambia alguna de las fuentes original (es decir, cuando actualizas el código fuente de Symfony2 o de las bibliotecas de proveedores);</li>
<li>En la depuración, será necesario colocar puntos de interrupción dentro del archivo de arranque.</li>
</ul>
<p>Si estás utilizando la Edición estándar de Symfony2, los archivos de arranque se reconstruyen automáticamente después de actualizar las bibliotecas de proveedores a través de la orden <tt class="docutils literal"><span class="pre">php</span> <span class="pre">bin/vendors</span> <span class="pre">install</span></tt>.</p>
<div class="section" id="archivos-de-arranque-y-cache-de-codigo-de-bytes">
<h3>Archivos de arranque y caché de código de bytes<a class="headerlink" href="#archivos-de-arranque-y-cache-de-codigo-de-bytes" title="Permalink to this headline">¶</a></h3>
<p>Incluso cuando utilizas código de bytes en caché, el rendimiento mejorará cuando utilices un archivo de arranque ya que habrá menos archivos en los cuales supervisar los cambios. Por supuesto, si esta función está desactivada en la caché del código de bytes (por ejemplo, <tt class="docutils literal"><span class="pre">apc.stat</span> <span class="pre">=</span> <span class="pre">0</span></tt> en APC), ya no hay una razón para utilizar un archivo de arranque.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Rendimiento</a><ul>
<li><a class="reference internal" href="#utilizando-una-cache-de-codigo-de-bytes-p-ej-apc">Utilizando una caché de código de bytes (p. ej. APC)</a><ul>
<li><a class="reference internal" href="#optimizacion-adicional">Optimización adicional</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usa-un-autocargador-con-cache-p-ej-apcuniversalclassloader">Usa un autocargador con caché (p. ej. <tt class="docutils literal"><span class="pre">ApcUniversalClassLoader</span></tt>)</a></li>
<li><a class="reference internal" href="#utilizando-archivos-de-arranque">Utilizando archivos de arranque</a><ul>
<li><a class="reference internal" href="#archivos-de-arranque-y-cache-de-codigo-de-bytes">Archivos de arranque y caché de código de bytes</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="service_container.html"
                        title="previous chapter">Contenedor de servicios</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="internals.html"
                        title="next chapter">Funcionamiento interno</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/book/performance.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="internals.html" title="Funcionamiento interno"
             >next</a> |</li>
        <li class="right" >
          <a href="service_container.html" title="Contenedor de servicios"
             >previous</a> |</li>
        <li><a href="../index.html">symfony-docs-es v1 documentation</a> &raquo;</li>
          <li><a href="index.html" >Libro</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Osukaru.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>